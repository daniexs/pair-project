<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <header class="d-flex justify-content-center py-3">
        <ul class="nav nav-pills">
          <li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Home</a></li>
          <li class="nav-item"><a href="#" class="nav-link">Features</a></li>
          <li class="nav-item"><a href="#" class="nav-link">Pricing</a></li>
          <li class="nav-item"><a href="#" class="nav-link">FAQs</a></li>
          <li class="nav-item"><a href="#" class="nav-link">About</a></li>
        </ul>
      </header>
      <h1 style="text-align: center;margin: 2rem;">List Patients</h1>
      <div style="display: flex;justify-content: center;margin: 5px;">
        <button type="button" class="btn btn-warning" onclick="window.location.href='/patients/'">Click Here to Add Patient</button>
      </div>
      <div style="display: flex;justify-content: center;">
          <table class="table table-dark table-striped" style="max-width:80rem;">
            <thead>
                <tr>
                  <th scope="col">No.</th>
                  <th scope="col">Name</th>
                  <th scope="col">Address</th>
                  <th scope="col">Age</th>
                  <th scope="col">Disease</th>
                  <th scope="col">Level</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                <% data.forEach(el => { %>
                    <tr>
                        <th scope="row"><%= 1 %></th>
                        <td><%= el.name %></td>
                        <td><%= el.address %></td>
                        <td><%= el.age %></td>
                        <td><%= el.Diseases.length == 0 ? '--' : el.Diseases[0].name %></td>
                        <td><%= el.Diseases.length == 0 ? '--' : el.Diseases[0].level %></td>
                        <td>
                            <button type="button" class="btn btn-success" onclick="window.location.href='/patients/'">Edit</button>
                            <button type="button" class="btn btn-danger" onclick="window.location.href='/patients/'">Delete</button>
                        </td>
                      </tr>
                <% }) %>
              </tbody>
          </table>
      </div>
</body>
</html>